{"version":3,"sources":["../src/instructor.js"],"names":["define","$","ajax","dashboardSettings","selectCoursesString","allSelectedString","selectAllString","select","wrapper","multipleSelect","multiple","placeholder","allSelected","selectAllText","multipleWidth","filter","find","append","on","selectedCourses","val","saveCoursesPromises","call","methodname","args","data","JSON","stringify","courses","done","window","location","reload"],"mappings":"AAyBAA,OAAM,iCAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,wCAAxB,CAAD,CAAoE,SAASC,CAAT,CAAYC,CAAZ,CAAkC,CACxG,MAAO,CAIHC,iBAAiB,CAAE,2BAASC,CAAT,CAA8BC,CAA9B,CAAiDC,CAAjD,CAAkE,IAC7EC,CAAAA,CAAM,CAAGN,CAAC,CAAC,8BAAD,CADmE,CAE7EO,CAAO,CAAGP,CAAC,CAAC,wCAAD,CAFkE,CAIjFM,CAAM,CAACE,cAAP,CAAsB,CAClBC,QAAQ,GADU,CAElBC,WAAW,CAAEP,CAFK,CAGlBQ,WAAW,CAAEP,CAHK,CAIlBQ,aAAa,CAAEP,CAJG,CAKlBQ,aAAa,CAAE,GALG,CAMlBC,MAAM,GANY,CAAtB,EASAP,CAAO,CAACQ,IAAR,CAAa,iBAAb,EAAgCC,MAAhC,CACI,+CADJ,EAIAT,CAAO,CAACQ,IAAR,CAAa,wBAAb,EAAuCE,EAAvC,CAA0C,OAA1C,CAAmD,UAAW,CAC1D,GAAIC,CAAAA,CAAe,CAAGZ,CAAM,CAACa,GAAP,EAAtB,CAEA,GAAsB,IAAnB,EAAAD,CAAH,CAA4B,CACxBA,CAAe,CAAG,EACrB,CAED,GAAIE,CAAAA,CAAmB,CAAGnB,CAAI,CAACoB,IAAL,CAAU,CAChC,CACIC,UAAU,CAAE,4CADhB,CAC8DC,IAAI,CAAE,CAC5DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACC,OAAO,CAAET,CAAV,CAAf,CADsD,CADpE,CADgC,CAAV,CAA1B,CAQAE,CAAmB,CAAC,CAAD,CAAnB,CAAuBQ,IAAvB,CAA4B,UAAmB,CAC3CC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EACH,CAFD,CAGH,CAlBD,CAmBH,CAxCE,CA0CV,CA3CK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * This plugin provides access to Moodle data in form of analytics and reports in real time.\n *\n *\n * @package    local_intelliboard\n * @copyright  2019 IntelliBoard, Inc\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @website    https://intelliboard.net/\n */\n\ndefine(['jquery', 'core/ajax', 'local_intelliboard/intb_multipleselect'], function($, ajax, multipleselect) {\n    return {\n        /**\n         * Modal window for settings of instructor dashboard\n         */\n        dashboardSettings: function(selectCoursesString, allSelectedString, selectAllString) {\n            var select = $('.instructor-courses-settings');\n            var wrapper = $('.instructor-dashboard-settings-wrapper');\n\n            select.multipleSelect({\n                multiple: true,\n                placeholder: selectCoursesString,\n                allSelected: allSelectedString,\n                selectAllText: selectAllString,\n                multipleWidth: 350,\n                filter: true\n            });\n\n            wrapper.find('.ms-drop.bottom').append(\n                '<button class=\"btn btn-primary\">OK</button>'\n            );\n\n            wrapper.find('.ms-drop.bottom button').on('click', function() {\n                var selectedCourses = select.val();\n\n                if(selectedCourses == null) {\n                    selectedCourses = [];\n                }\n\n                var saveCoursesPromises = ajax.call([\n                    {\n                        methodname: 'local_intelliboard_save_instructor_courses', args: {\n                            data: JSON.stringify({courses: selectedCourses})\n                        }\n                    },\n                ]);\n\n                saveCoursesPromises[0].done(function(response) {\n                    window.location.reload();\n                });\n            });\n        }\n    };\n});"],"file":"instructor.min.js"}