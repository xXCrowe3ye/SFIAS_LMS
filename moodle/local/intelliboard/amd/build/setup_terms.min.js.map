{"version":3,"sources":["../src/setup_terms.js"],"names":["define","$","str","terms","errorsContainer","loaderContainer","errorMessage","isInit","showErrorMessage","callback","termsErrorPromises","get_string","when","done","localizedEditString","html","removeClass","hideErrors","addClass","closeTab","openTab","termsIsAccepted","is","shield","privacy"],"mappings":"AAyBAA,OAAM,kCAAC,CACH,QADG,CACO,UADP,CAAD,CAEH,SAASC,CAAT,CAAYC,CAAZ,CAAiB,CAChB,GAAIC,CAAAA,CAAK,CAAG,CACRC,eAAe,CAAEH,CAAC,CAAC,iCAAD,CADV,CAERI,eAAe,CAAEJ,CAAC,CAAC,yBAAD,CAFV,CAGRK,YAAY,CAAE,EAHN,CAIRC,MAAM,GAJE,CAMRC,gBAAgB,CAAE,0BAASC,CAAT,CAAmB,CACjC,GAAI,CAACN,CAAK,CAACG,YAAX,CAAyB,CACrB,GAAII,CAAAA,CAAkB,CAAGR,CAAG,CAACS,UAAJ,CAAe,oCAAf,CAAqD,oBAArD,CAAzB,CAEAV,CAAC,CAACW,IAAF,CAAOF,CAAP,EAA2BG,IAA3B,CAAgC,SAASC,CAAT,CAA8B,CAC1DX,CAAK,CAACG,YAAN,CAAqBQ,CAArB,CACAX,CAAK,CAACC,eAAN,CAAsBW,IAAtB,CAA2BD,CAA3B,EACAX,CAAK,CAACC,eAAN,CAAsBY,WAAtB,CAAkC,QAAlC,EACAP,CAAQ,EACX,CALD,CAMH,CATD,IASO,CACHN,CAAK,CAACC,eAAN,CAAsBW,IAAtB,CAA2BZ,CAAK,CAACG,YAAjC,EACAH,CAAK,CAACC,eAAN,CAAsBY,WAAtB,CAAkC,QAAlC,EACAP,CAAQ,EACX,CACJ,CArBO,CAuBRQ,UAAU,CAAE,qBAAW,CACnBd,CAAK,CAACC,eAAN,CAAsBW,IAAtB,CAA2B,EAA3B,EACAZ,CAAK,CAACC,eAAN,CAAsBc,QAAtB,CAA+B,QAA/B,CACH,CA1BO,CA4BRC,QAAQ,CAAE,mBAAW,CACjBlB,CAAC,CAAC,iBAAD,CAAD,CAAqBiB,QAArB,CAA8B,QAA9B,CACH,CA9BO,CAgCRE,OAAO,CAAE,kBAAW,CAChBnB,CAAC,CAAC,iBAAD,CAAD,CAAqBe,WAArB,CAAiC,QAAjC,CACH,CAlCO,CAoCRK,eAAe,CAAE,0BAAW,IACpBlB,CAAAA,CAAK,CAAGF,CAAC,CAAC,aAAD,CAAD,CAAiBqB,EAAjB,CAAoB,UAApB,CADY,CAEpBC,CAAM,CAAGtB,CAAC,CAAC,cAAD,CAAD,CAAkBqB,EAAlB,CAAqB,UAArB,CAFW,CAGpBE,CAAO,CAAGvB,CAAC,CAAC,eAAD,CAAD,CAAmBqB,EAAnB,CAAsB,UAAtB,CAHU,CAKxB,MAAOnB,CAAAA,CAAK,EAAIoB,CAAT,EAAmBC,CAC7B,CA1CO,CAAZ,CA6CA,MAAOrB,CAAAA,CACV,CAjDK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * This plugin provides access to Moodle data in form of analytics and reports in real time.\r\n *\r\n *\r\n * @package    local_intelliboard\r\n * @copyright  2020 IntelliBoard, Inc\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n * @website    https://intelliboard.net/\r\n */\r\n\r\ndefine([\r\n    \"jquery\", \"core/str\"\r\n], function($, str) {\r\n    var terms = {\r\n        errorsContainer: $(\".tab-item.terms .warnings-block\"),\r\n        loaderContainer: $(\".tab-item.terms .loader\"),\r\n        errorMessage: '',\r\n        isInit: false,\r\n\r\n        showErrorMessage: function(callback) {\r\n            if (!terms.errorMessage) {\r\n                var termsErrorPromises = str.get_string(\"please_accept_terms_and_conditions\", \"local_intelliboard\");\r\n\r\n                $.when(termsErrorPromises).done(function(localizedEditString) {\r\n                    terms.errorMessage = localizedEditString;\r\n                    terms.errorsContainer.html(localizedEditString);\r\n                    terms.errorsContainer.removeClass(\"hidden\");\r\n                    callback();\r\n                });\r\n            } else {\r\n                terms.errorsContainer.html(terms.errorMessage);\r\n                terms.errorsContainer.removeClass(\"hidden\");\r\n                callback();\r\n            }\r\n        },\r\n\r\n        hideErrors: function() {\r\n            terms.errorsContainer.html(\"\");\r\n            terms.errorsContainer.addClass(\"hidden\");\r\n        },\r\n\r\n        closeTab: function() {\r\n            $(\".tab-item.terms\").addClass(\"closed\");\r\n        },\r\n\r\n        openTab: function() {\r\n            $(\".tab-item.terms\").removeClass(\"closed\");\r\n        },\r\n\r\n        termsIsAccepted: function() {\r\n            var terms = $(\"#termsField\").is(\":checked\");\r\n            var shield = $(\"#shieldField\").is(\":checked\");\r\n            var privacy = $(\"#privacyField\").is(\":checked\");\r\n\r\n            return terms && shield && privacy;\r\n        }\r\n    };\r\n\r\n    return terms;\r\n});"],"file":"setup_terms.min.js"}